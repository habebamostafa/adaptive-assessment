<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªÙƒÙŠÙÙŠ - Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ø¹Ø²Ø²</title>
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --success: #4cc9f0;
            --danger: #f72585;
            --warning: #fca311;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fb;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 1rem 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 1.5rem;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.3s;
        }
        
        .nav-links a:hover {
            opacity: 0.8;
        }
        
        .btn {
            display: inline-block;
            padding: 0.5rem 1.5rem;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            text-decoration: none;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--secondary);
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-danger {
            background-color: var(--danger);
            color: white;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .card-title {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            background-color: white;
        }
        
        .page {
            display: none;
            padding: 2rem 0;
        }
        
        .active-page {
            display: block;
        }
        
        .assessment-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .question-card {
            margin-bottom: 1.5rem;
        }
        
        .question-text {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
        }
        
        .options-list {
            list-style: none;
        }
        
        .option-item {
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 0.75rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option-item:hover {
            background-color: #f0f0f0;
        }
        
        .option-item.selected {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .progress-container {
            margin-bottom: 1.5rem;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--primary);
            border-radius: 5px;
            transition: width 0.3s;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .stat-card {
            text-align: center;
            padding: 1.5rem;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .stat-label {
            color: var(--gray);
        }
        
        .history-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .history-table th,
        .history-table td {
            padding: 0.75rem;
            text-align: right;
            border-bottom: 1px solid #ddd;
        }
        
        .history-table th {
            background-color: #f8f9fa;
            font-weight: 600;
        }
        
        .track-card {
            text-align: center;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .track-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .track-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        .recommendation-card {
            border-left: 4px solid var(--primary);
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <div class="logo">Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªÙƒÙŠÙÙŠ</div>
                <ul class="nav-links">
                    <li><a href="#" onclick="showPage('home')">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                    <li><a href="#" onclick="showPage('assessment')">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</a></li>
                    <li><a href="#" onclick="showPage('history')">Ø³Ø¬Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</a></li>
                    <li><a href="#" onclick="showPage('recommendations')">Ø§Ù„ØªÙˆØµÙŠØ§Øª</a></li>
                    <li><a href="#" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
        <section id="login-page" class="page active-page">
            <div class="card" style="max-width: 500px; margin: 2rem auto;">
                <h2 class="card-title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email" class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                        <input type="email" id="login-email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password" class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input type="password" id="login-password" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
                </form>
                <p style="text-align: center; margin-top: 1rem;">
                    Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ <a href="#" onclick="showPage('register')">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</a>
                </p>
            </div>
        </section>

        <!-- ØµÙØ­Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
        <section id="register-page" class="page">
            <div class="card" style="max-width: 500px; margin: 2rem auto;">
                <h2 class="card-title">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
                <form id="register-form">
                    <div class="form-group">
                        <label for="register-name" class="form-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                        <input type="text" id="register-name" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="register-email" class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                        <input type="email" id="register-email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="register-password" class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input type="password" id="register-password" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="register-role" class="form-label">Ø§Ù„Ø¯ÙˆØ±</label>
                        <select id="register-role" class="form-select" required>
                            <option value="student">Ø·Ø§Ù„Ø¨</option>
                            <option value="teacher">Ù…Ø¹Ù„Ù…</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="register-track" class="form-label">Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</label>
                        <select id="register-track" class="form-select" required>
                            <option value="web">ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨</option>
                            <option value="ai">Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</option>
                            <option value="cyber">Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ</option>
                            <option value="data">Ø¹Ù„Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</option>
                            <option value="mobile">ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„</option>
                            <option value="devops">DevOps</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="register-style" class="form-label">Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…ÙØ¶Ù„</label>
                        <select id="register-style" class="form-select" required>
                            <option value="visual">Ø¨ØµØ±ÙŠ</option>
                            <option value="auditory">Ø³Ù…Ø¹ÙŠ</option>
                            <option value="kinesthetic">Ø­Ø±ÙƒÙŠ</option>
                            <option value="reading">Ù‚Ø±Ø§Ø¡Ø©/ÙƒØªØ§Ø¨Ø©</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
                </form>
                <p style="text-align: center; margin-top: 1rem;">
                    Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ <a href="#" onclick="showPage('login')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
                </p>
            </div>
        </section>

        <!-- ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <section id="home-page" class="page">
            <div class="card">
                <h2 class="card-title">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªÙƒÙŠÙÙŠ</h2>
                <p>Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ³ØªØ®Ø¯Ù… ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ø¹Ø²Ø² Ù„ØªÙ‚ÙŠÙŠÙ… Ù…Ø³ØªÙˆØ§Ùƒ ÙˆØªÙ‚Ø¯ÙŠÙ… ØªØ¬Ø±Ø¨Ø© ØªØ¹Ù„Ù… Ù…Ø®ØµØµØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø£Ø¯Ø§Ø¦Ùƒ.</p>
                
                <div class="stats-container" style="margin-top: 2rem;">
                    <div class="card stat-card">
                        <div class="stat-value" id="ability-value">0%</div>
                        <div class="stat-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
                    </div>
                    <div class="card stat-card">
                        <div class="stat-value" id="assessments-count">0</div>
                        <div class="stat-label">Ø¹Ø¯Ø¯ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</div>
                    </div>
                    <div class="card stat-card">
                        <div class="stat-value" id="accuracy-value">0%</div>
                        <div class="stat-label">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¯Ù‚Ø©</div>
                    </div>
                </div>
                
                <h3 style="margin: 1.5rem 0 1rem;">Ù…Ø³Ø§Ø±Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ: <span id="current-track">ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨</span></h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1.5rem;">
                    <div class="card track-card" onclick="startAssessment('web')">
                        <div class="track-icon">ğŸ’»</div>
                        <h3>ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨</h3>
                        <p>HTML, CSS, JavaScript, React, Node.js</p>
                    </div>
                    <div class="card track-card" onclick="startAssessment('ai')">
                        <div class="track-icon">ğŸ¤–</div>
                        <h3>Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h3>
                        <p>Machine Learning, Deep Learning, NLP</p>
                    </div>
                    <div class="card track-card" onclick="startAssessment('cyber')">
                        <div class="track-icon">ğŸ”’</div>
                        <h3>Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ</h3>
                        <p>Network Security, Cryptography, Ethical Hacking</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ… -->
        <section id="assessment-page" class="page">
            <div class="assessment-container">
                <div class="progress-container">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span>Ø§Ù„Ø³Ø¤Ø§Ù„ <span id="current-question">1</span> Ù…Ù† <span id="total-questions">10</span></span>
                        <span>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©: <span id="difficulty-level">2</span></span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 10%;"></div>
                    </div>
                </div>
                
                <div class="card question-card">
                    <h3 class="question-text" id="question-text">ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„...</h3>
                    <ul class="options-list" id="options-list">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                    </ul>
                </div>
                
                <div style="display: flex; justify-content: space-between;">
                    <button class="btn btn-danger" onclick="cancelAssessment()">Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</button>
                    <button class="btn btn-primary" id="next-button" onclick="submitAnswer()" disabled>Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ø© Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… -->
        <section id="results-page" class="page">
            <div class="assessment-container">
                <div class="card">
                    <h2 class="card-title" style="text-align: center;">Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</h2>
                    
                    <div class="stats-container">
                        <div class="card stat-card">
                            <div class="stat-value" id="result-score">0/0</div>
                            <div class="stat-label">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©</div>
                        </div>
                        <div class="card stat-card">
                            <div class="stat-value" id="result-ability">0%</div>
                            <div class="stat-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</div>
                        </div>
                        <div class="card stat-card">
                            <div class="stat-value" id="result-confidence">0%</div>
                            <div class="stat-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ù‚Ø©</div>
                        </div>
                        <div class="card stat-card">
                            <div class="stat-value" id="result-level">0</div>
                            <div class="stat-label">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡</div>
                        </div>
                    </div>
                    
                    <h3 style="margin: 1.5rem 0 1rem;">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰</h3>
                    <div id="level-performance">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                    </div>
                    
                    <div style="text-align: center; margin-top: 2rem;">
                        <button class="btn btn-primary" onclick="showPage('home')">Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                        <button class="btn btn-success" onclick="viewRecommendations()">Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØµÙŠØ§Øª</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ø© Ø³Ø¬Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª -->
        <section id="history-page" class="page">
            <div class="card">
                <h2 class="card-title">Ø³Ø¬Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</h2>
                
                <div class="table-responsive">
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                                <th>Ø§Ù„Ù…Ø³Ø§Ø±</th>
                                <th>Ø§Ù„Ù†ØªÙŠØ¬Ø©</th>
                                <th>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚Ø¯Ø±Ø©</th>
                                <th>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡</th>
                                <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                            </tr>
                        </thead>
                        <tbody id="history-table-body">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø³Ø¬Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                        </tbody>
                    </table>
                </div>
                
                <div id="no-history" style="text-align: center; padding: 2rem; display: none;">
                    <p>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø³Ø§Ø¨Ù‚Ø©.</p>
                    <button class="btn btn-primary" onclick="showPage('assessment')">Ø¨Ø¯Ø¡ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£ÙˆÙ„</button>
                </div>
            </div>
        </section>

        <!-- ØµÙØ­Ø© Ø§Ù„ØªÙˆØµÙŠØ§Øª -->
        <section id="recommendations-page" class="page">
            <div class="card">
                <h2 class="card-title">ØªÙˆØµÙŠØ§Øª Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ØªÙƒÙŠÙÙŠ</h2>
                
                <div class="stats-container">
                    <div class="card stat-card">
                        <div class="stat-value" id="rec-ability">0%</div>
                        <div class="stat-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
                    </div>
                    <div class="card stat-card">
                        <div class="stat-value" id="rec-difficulty">1</div>
                        <div class="stat-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø© Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡</div>
                    </div>
                    <div class="card stat-card">
                        <div class="stat-value" id="rec-time">0 Ø³Ø§Ø¹Ø©</div>
                        <div class="stat-label">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ù„Ø¥ØªÙ‚Ø§Ù†</div>
                    </div>
                </div>
                
                <h3 style="margin: 1.5rem 0 1rem;">Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§</h3>
                <div id="recommended-lessons">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-top: 1.5rem;">
                    <div>
                        <h3 style="margin-bottom: 1rem;">Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ©</h3>
                        <div id="strengths-list">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                        </div>
                    </div>
                    <div>
                        <h3 style="margin-bottom: 1rem;">Ù†Ù‚Ø§Ø· Ø§Ù„Ø¶Ø¹Ù</h3>
                        <div id="weaknesses-list">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¶Ø¹Ù Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
        let currentUser = null;
        let currentSession = null;
        let currentQuestion = null;
        let selectedOption = null;
        
        // Ø¹Ù†Ø§ØµØ± DOM
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            try {
                const response = await fetch('/api/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    currentUser = data.user;
                    localStorage.setItem('token', data.token);
                    showPage('home');
                    loadUserData();
                } else {
                    alert(data.message || 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');
                }
            } catch (error) {
                console.error('Login error:', error);
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');
            }
        });
        
        registerForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const role = document.getElementById('register-role').value;
            const track = document.getElementById('register-track').value;
            const preferredLearningStyle = document.getElementById('register-style').value;
            
            try {
                const response = await fetch('/api/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ 
                        name, 
                        email, 
                        password, 
                        role, 
                        track, 
                        preferredLearningStyle 
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­ØŒ ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');
                    showPage('login');
                } else {
                    alert(data.message || 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨');
                }
            } catch (error) {
                console.error('Registration error:', error);
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨');
            }
        });
        
        // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØµÙØ­Ø§Øª
        function showPage(pageId) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active-page');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            document.getElementById(`${pageId}-page`).classList.add('active-page');
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©
            if (pageId === 'home' && currentUser) {
                loadUserData();
            } else if (pageId === 'history' && currentUser) {
                loadAssessmentHistory();
            } else if (pageId === 'recommendations' && currentUser) {
                loadRecommendations();
            }
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        async function loadUserData() {
            try {
                const token = localStorage.getItem('token');
                const response = await fetch(`/api/assessment/history/${currentUser.id}`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                    document.getElementById('ability-value').textContent = 
                        `${(data.averageAbility * 100).toFixed(1)}%`;
                    document.getElementById('assessments-count').textContent = 
                        data.totalAssessments;
                    document.getElementById('accuracy-value').textContent = 
                        data.totalAssessments > 0 ? 
                        `${(data.averageAbility * 100).toFixed(1)}%` : '0%';
                    document.getElementById('current-track').textContent = 
                        getTrackName(data.preferredTrack);
                }
            } catch (error) {
                console.error('Error loading user data:', error);
            }
        }
        
        // Ø¨Ø¯Ø¡ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
        async function startAssessment(track) {
            try {
                const token = localStorage.getItem('token');
                const response = await fetch('/api/assessment/start', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ track })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    currentSession = data.sessionId;
                    showPage('assessment');
                    loadQuestion(data.question);
                } else {
                    alert('ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…');
                }
            } catch (error) {
                console.error('Error starting assessment:', error);
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¨Ø¯Ø¡ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…');
            }
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„
        function loadQuestion(questionData) {
            currentQuestion = questionData;
            
            document.getElementById('question-text').textContent = questionData.text;
            document.getElementById('difficulty-level').textContent = questionData.level;
            
            const optionsList = document.getElementById('options-list');
            optionsList.innerHTML = '';
            
            questionData.options.forEach((option, index) => {
                const li = document.createElement('li');
                li.className = 'option-item';
                li.textContent = option;
                li.onclick = () => selectOption(index, li);
                optionsList.appendChild(li);
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            const progress = (currentQuestion.number / currentQuestion.total) * 100;
            document.getElementById('progress-fill').style.width = `${progress}%`;
            document.getElementById('current-question').textContent = currentQuestion.number;
            document.getElementById('total-questions').textContent = currentQuestion.total;
            
            // ØªØ¹Ø·ÙŠÙ„ Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø­ØªÙ‰ ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©
            document.getElementById('next-button').disabled = true;
            selectedOption = null;
        }
        
        // Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©
        function selectOption(index, element) {
            // Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            document.querySelectorAll('.option-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ
            element.classList.add('selected');
            selectedOption = index;
            
            // ØªÙ…ÙƒÙŠÙ† Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
            document.getElementById('next-button').disabled = false;
        }
        
        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
        async function submitAnswer() {
            if (selectedOption === null) return;
            
            try {
                const token = localStorage.getItem('token');
                const response = await fetch('/api/assessment/answer', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({
                        sessionId: currentSession,
                        questionId: currentQuestion.id,
                        selectedAnswer: selectedOption,
                        questionData: currentQuestion
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    
                    if (data.done) {
                        // Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
                        showResults(data.summary);
                    } else {
                        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
                        loadQuestion(data.nextQuestion);
                    }
                } else {
                    alert('ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©');
                }
            } catch (error) {
                console.error('Error submitting answer:', error);
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©');
            }
        }
        
        // Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
        function cancelAssessment() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…ØŸ Ø³ÙŠØªÙ… ÙÙ‚Ø¯Ø§Ù† ØªÙ‚Ø¯Ù…Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ.')) {
                showPage('home');
            }
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function showResults(summary) {
            document.getElementById('result-score').textContent = 
                `${summary.correctAnswers}/${summary.totalQuestions}`;
            document.getElementById('result-ability').textContent = 
                `${(summary.finalAbility * 100).toFixed(1)}%`;
            document.getElementById('result-confidence').textContent = 
                `${(summary.confidenceScore * 100).toFixed(1)}%`;
            document.getElementById('result-level').textContent = summary.recommendedLevel;
            
            // Ø¹Ø±Ø¶ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
            const levelPerformance = document.getElementById('level-performance');
            levelPerformance.innerHTML = '';
            
            if (summary.levelPerformance) {
                for (const [level, performance] of Object.entries(summary.levelPerformance)) {
                    const div = document.createElement('div');
                    div.className = 'recommendation-card';
                    div.innerHTML = `
                        <h4>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${level}</h4>
                        <p>Ø§Ù„Ø¯Ù‚Ø©: ${(performance.accuracy * 100).toFixed(1)}%</p>
                        <p>Ù…ØªÙˆØ³Ø· Ø§Ù„ÙˆÙ‚Øª: ${performance.avgTime}s</p>
                    `;
                    levelPerformance.appendChild(div);
                }
            }
            
            showPage('results');
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø³Ø¬Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª
        async function loadAssessmentHistory() {
            try {
                const token = localStorage.getItem('token');
                const response = await fetch(`/api/assessment/history/${currentUser.id}`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const tbody = document.getElementById('history-table-body');
                    tbody.innerHTML = '';
                    
                    if (data.assessmentHistory.length === 0) {
                        document.getElementById('no-history').style.display = 'block';
                        return;
                    }
                    
                    document.getElementById('no-history').style.display = 'none';
                    
                    data.assessmentHistory.forEach(assessment => {
                        const tr = document.createElement('tr');
                        tr.innerHTML = `
                            <td>${new Date(assessment.date).toLocaleDateString('ar-EG')}</td>
                            <td>${getTrackName(assessment.track)}</td>
                            <td>${assessment.score} (${assessment.accuracy})</td>
                            <td>${assessment.finalAbility}</td>
                            <td>${assessment.recommendedLevel}</td>
                            <td>
                                <button class="btn btn-primary" onclick="viewAssessmentDetails('${assessment.sessionId}')">Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
                            </td>
                        `;
                        tbody.appendChild(tr);
                    });
                }
            } catch (error) {
                console.error('Error loading assessment history:', error);
            }
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙˆØµÙŠØ§Øª
        async function loadRecommendations() {
            try {
                const token = localStorage.getItem('token');
                const response = await fetch(`/api/adaptive-recommendations/${currentUser.id}`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    
                    document.getElementById('rec-ability').textContent = 
                        `${(data.currentAbility * 100).toFixed(1)}%`;
                    document.getElementById('rec-difficulty').textContent = 
                        data.recommendedDifficulty;
                    document.getElementById('rec-time').textContent = 
                        `${data.estimatedTimeToMastery} Ø³Ø§Ø¹Ø©`;
                    
                    // Ø¹Ø±Ø¶ Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§
                    const lessonsContainer = document.getElementById('recommended-lessons');
                    lessonsContainer.innerHTML = '';
                    
                    if (data.recommendedLessons && data.recommendedLessons.length > 0) {
                        data.recommendedLessons.forEach(lesson => {
                            const div = document.createElement('div');
                            div.className = 'recommendation-card';
                            div.innerHTML = `
                                <h4>${lesson.title}</h4>
                                <p>${lesson.description}</p>
                                <p>Ø§Ù„Ù…Ø³ØªÙˆÙ‰: ${lesson.level} | Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: ${lesson.duration} Ø¯Ù‚ÙŠÙ‚Ø©</p>
                            `;
                            lessonsContainer.appendChild(div);
                        });
                    } else {
                        lessonsContainer.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³ Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§ Ø­Ø§Ù„ÙŠØ§Ù‹.</p>';
                    }
                    
                    // Ø¹Ø±Ø¶ Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø¶Ø¹Ù
                    const strengthsList = document.getElementById('strengths-list');
                    const weaknessesList = document.getElementById('weaknesses-list');
                    strengthsList.innerHTML = '';
                    weaknessesList.innerHTML = '';
                    
                    if (data.strengths && data.strengths.length > 0) {
                        data.strengths.forEach(strength => {
                            const p = document.createElement('p');
                            p.textContent = strength;
                            strengthsList.appendChild(p);
                        });
                    } else {
                        strengthsList.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ù‚Ø§Ø· Ù‚ÙˆØ© Ù…Ø³Ø¬Ù„Ø©.</p>';
                    }
                    
                    if (data.weaknesses && data.weaknesses.length > 0) {
                        data.weaknesses.forEach(weakness => {
                            const p = document.createElement('p');
                            p.textContent = weakness;
                            weaknessesList.appendChild(p);
                        });
                    } else {
                        weaknessesList.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ù‚Ø§Ø· Ø¶Ø¹Ù Ù…Ø³Ø¬Ù„Ø©.</p>';
                    }
                }
            } catch (error) {
                console.error('Error loading recommendations:', error);
            }
        }
        
        // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
        async function viewAssessmentDetails(sessionId) {
            try {
                const token = localStorage.getItem('token');
                const response = await fetch(`/api/assessment/analytics/${sessionId}`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    alert(`ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:\nØ§Ù„Ù…Ø³Ø§Ø±: ${getTrackName(data.session.track)}\nÙ…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚Ø¯Ø±Ø©: ${(data.session.studentAbility * 100).toFixed(1)}%\nÙ…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ù‚Ø©: ${(data.session.confidenceScore * 100).toFixed(1)}%`);
                }
            } catch (error) {
                console.error('Error loading assessment details:', error);
            }
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØµÙŠØ§Øª Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function viewRecommendations() {
            showPage('recommendations');
            loadRecommendations();
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            currentUser = null;
            currentSession = null;
            localStorage.removeItem('token');
            showPage('login');
        }
        
        // ÙˆØ¸Ø§Ø¦Ù Ù…Ø³Ø§Ø¹Ø¯Ø©
        function getTrackName(trackCode) {
            const tracks = {
                'web': 'ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨',
                'ai': 'Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ',
                'cyber': 'Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ',
                'data': 'Ø¹Ù„Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
                'mobile': 'ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„',
                'devops': 'DevOps'
            };
            return tracks[trackCode] || trackCode;
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ token Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', () => {
            const token = localStorage.getItem('token');
            if (token) {
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… token
                // ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠØŒ ÙŠØ¬Ø¨ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© token Ù…Ø¹ Ø§Ù„Ø®Ø§Ø¯Ù…
                showPage('home');
            } else {
                showPage('login');
            }
        });
    </script>
</body>
</html>

